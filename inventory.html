<!DOCTYPE html>
<html lang="ar" dir="rtl"><head><title>إدارة المخزون</title><link rel="stylesheet" href="style.css"><link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"></head>
<body>
    <aside class="sidebar"></aside>
    <main class="main-content">
        <div class="page-header"><h1 class="page-title">إدارة المخزون</h1><div class="actions"><a href="add_product.html" class="btn btn-primary"><i class="ri-add-line"></i> إضافة منتج</a><button class="btn btn-secondary" id="requestScanForSearchBtn"><i class="ri-qr-code-line"></i> مسح للبحث</button></div></div>
        <div class="card">
            <div class="table-container"><table class="data-table"><thead><tr><th>الاسم</th><th>الكمية</th><th>الحالة</th><th>الإجراءات</th></tr></thead><tbody id="productsTableBody"></tbody></table></div>
        </div>
    </main>
    <div id="notification-container"></div><script src="shared.js" type="module"></script>
    <script type="module">
        import { db, showNotification, requestScan, listenToScannerSession } from './shared.js';
        import { collection, getDocs, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";
        const productsTableBody = document.getElementById('productsTableBody');
        async function fetchProducts() { /* ... function from previous responses ... */ }
        fetchProducts();
        document.getElementById('requestScanForSearchBtn').addEventListener('click', () => requestScan('search'));
        listenToScannerSession((val, pur) => { if(pur === 'search') { /* ... handle search ... */ } });
    </script>
</body></html>
