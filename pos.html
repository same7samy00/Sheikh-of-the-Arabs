<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نقطة البيع - شيخ العرب</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body>
    <aside class="sidebar">
        <div class="logo">شيخ <span>العرب</span></div>
        <ul class="nav-list">
            <li class="nav-item"><a href="dashboard.html" class="nav-link"><i class="ri-dashboard-line"></i><span>الرئيسية</span></a></li>
            <li class="nav-item"><a href="inventory.html" class="nav-link"><i class="ri-box-3-line"></i><span>المخزون</span></a></li>
            <li class="nav-item"><a href="pos.html" class="nav-link active"><i class="ri-shopping-cart-2-line"></i><span>نقطة البيع</span></a></li>
            <li class="nav-item logout"><a href="#" id="logoutButton" class="nav-link logout-btn"><i class="ri-logout-box-r-line"></i><span>خروج</span></a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="pos-layout">
            <section class="pos-main">
                <div id="product-search-bar">
                    <input type="search" id="productSearchInput" placeholder="البحث بالاسم أو امسح الكود...">
                    <button class="btn btn-secondary" id="requestScanBtn" title="مسح باركود"><i class="ri-qr-code-line"></i></button>
                </div>
                <div id="product-grid-v2">
                    <div class="placeholder-text">جاري تحميل المنتجات...</div>
                </div>
            </section>
            <aside class="pos-sidebar">
                <div class="cart">
                     <h2 class="cart-header">سلة المشتريات</h2>
                    <div id="cart-items-list">
                        <div class="placeholder-text">السلة فارغة</div>
                    </div>
                    <div class="cart-summary">
                        <div class="summary-row"><span>المجموع الفرعي</span><span id="subtotal">0.00</span></div>
                        <div class="summary-row"><span>الضريبة (14%)</span><span id="tax">0.00</span></div>
                        <div class="summary-row total"><span>الإجمالي (جنيه)</span><span id="total">0.00</span></div>
                    </div>
                    <div id="pos-actions">
                        <button class="btn btn-secondary" id="clearSaleBtn">إلغاء</button>
                        <button class="btn btn-primary" id="checkoutBtn" disabled>الدفع</button>
                    </div>
                </div>
            </aside>
        </div>
    </main>
    
    <div id="weight-modal" class="modal-overlay"> </div>
    <div id="payment-modal" class="modal-overlay"> </div>
    <div id="receipt-modal" class="modal-overlay"> </div>

    <div id="notification-container"></div>
    <script src="shared.js" type="module"></script>
    <script type="module">
        // The JavaScript for the POS page also remains the same, as the changes
        // were primarily layout and CSS for the product cards. The logic is sound.
        // It's just important to target the new product grid ID: #product-grid-v2
        const productGrid = document.getElementById('product-grid-v2');
        
        // Paste the FULL JavaScript from the previous response for pos.html here.
        // Ensure this line is updated:
        // const productGrid = document.getElementById('product-grid-v2');
        // ... rest of the JS code ...
    </script>
</body>
</html>
